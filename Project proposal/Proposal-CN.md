# EchoLink: 基于WebRTC的局域网在线聊天软件平台

**Team Kind Koalas: Zhongsheng Wang, Kairui Liu, Xiaojun Xiao, Hongfei Rong, Siyu Lu, Shuzheng Mi, Jiahao Wang**

所有的项目计划都是在Week3内经过3次小组讨论后全组通过的决议。

## Introduction

随着技术的发展和工作方式的变化，即时通讯软件已经成为企业沟通协作的重要工具。然而，现有的通讯解决方案通常依赖于互联网连接，并且可能不完全满足组织在安全性、隐私保护以及成本效益方面的需求。针对这些挑战，我们的团队计划开发一个基于WebRTC技术的局域网在线聊天软件平台，EchoLink，该平台专为满足小型企业的内部通讯需求而设计。




### 动机：

我们的核心目标是提供一个既安全又可靠的内部通信平台，使得用户在局域网环境下，无需依赖外部互联网连接，就能进行实时的文本、语音和视频通信。我们认为，这样一个平台将为用户提供以下独特价值：

- 高度安全和隐私保护：通过在局域网内部署，数据不经过外部网络，从而极大增强数据的安全性和隐私保护。
- 低延迟的通讯体验：利用局域网的优势，提供比传统互联网解决方案更低延迟的通讯体验，使得语音和视频通话更加流畅。
- 易于部署和维护：针对小型企业的IT资源限制，设计易于部署和维护的解决方案，降低技术门槛和运营成本。


## Related work

针对应用市场已经存在的相似软件&平台，我们团队的每一个人都进行了高强度的使用，对它们进行了详细的分析并且总结它们的优缺点如下（我们只专注我们能够实现或者改善缺点的功能，毕竟我们团队的能力没有办法和整个开发团队比拟）：

### Google Meet

#### 优势：

- 无缝集成：Google Meet与Google Workspace的集成提供了无缝的工作流程，方便用户管理日程、电子邮件和文档。
- 易用性：简洁的用户界面和易于理解的控制选项使得用户可以快速开始或加入会议。
- 可访问性：作为一个基于浏览器的解决方案，用户无需下载应用程序即可加入会议，降低了使用门槛。
- 稳定的性能：Google的庞大基础设施确保了会议的稳定性和可靠性，即使在网络条件不佳的情况下也能保持良好的通信质量。

#### 改进空间：

- 功能丰富度：与Zoom相比，Google Meet在高级会议功能（如分组讨论室、会议记录）方面还有提升空间。
- 定制性：企业用户可能需要更多的定制选项，以便将Meet更好地融入其内部通信系统。（或许这个不需要在EchoLink中被考虑，但是这是它的优势之一）


### Slack


#### 优势：

- 卓越的协作功能：Slack提供了强大的消息和文件共享功能，支持跨团队协作，通过频道和私人消息提高了工作效率。
- 丰富的集成：支持与多种第三方服务和工具的集成，如Trello、GitHub和Salesforce，使得Slack成为企业中心化的沟通和协作平台。
- 自定义和自动化：提供了丰富的自定义选项和机器人，通过自动化流程，减少了重复性工作的负担。（这个有AI工具的应用加持，应该不在我们的开发考虑范围内）


#### 改进空间：

- 用户界面：对于新用户来说，Slack的用户界面可能会显得有些复杂，需要一定的学习曲线。
- 功能付费：对于一些企业高频率使用的使用功能，往往需要企业购买会员服务供员工使用，开销成本相对较大。（我们尝试将其中一些功能实现）


### Zoom

#### 优势：

- 高质量的视频会议：Zoom以其高质量的视频和音频会议功能而闻名，支持大规模的视频会议和网络研讨会。
- 强大的功能：如分组讨论室、会议录制、屏幕共享等高级功能满足了不同用户的需求。


#### 改进空间：

- 安全性和隐私：Zoom的信息安全问题到现在依旧是一部分人担心的问题，软件安全一旦出现漏洞问题就可能会影响用户的使用频率和使用意向。（参考博客链接：https://cloudsecurityalliance.org/blog/2022/03/13/an-analysis-of-the-2020-zoom-breach）
- 资源消耗：Zoom应用在某些情况下可能对计算机资源的消耗较大，影响到其他应用的运行。


### 总结

我们总结了上述软件的优点和存在的问题，并尝试将部分功能融合到EchoLink中，并尝试对弱点优化：

- 安全性和隐私保护：Zoom的安全性和隐私问题提示我们，在设计软件时，应将安全性作为首要考虑。实施端到端加密、确保数据在局域网内传输，以及提供透明的隐私政策，都是增强用户信任的关键措施。

- 用户界面和体验：Echolink会追求简洁直观的设计，降低用户理解交互逻辑的难度并减少繁琐且无意义的操作流程，获得最佳的使用体验。

- 性能和资源消耗：考虑到Zoom可能对计算机资源消耗较大的问题，开发过程中应注重软件的性能优化，确保软件在各种硬件配置上都能运行流畅，减少对系统资源的占用。（这是我们希望并期待具备技术能力的开发部分）


通过对这些核心需求的综合分析和针对竞品存在的问题的改进，EchoLink有望提供一个既安全又高效的内部通讯解决方案，满足小型企业在数据安全、通讯质量和团队协作方面的特定需求。


## Requirements


针对小组讨论以及我们对每个人的技术栈的合理分析，我们总结了我们团队能够实现的EchoLink中的功能，其中一部分潜在的技术难题我们会尝试在未来开发时间周期内进行学习和解决。我们将功能划分成了如下几个部分：Must-Haves，Should-Haves，Could-Haves，Nice-to-Haves。（受限于字数，这里只是简单列举了功能描述）



### Must-Haves
- 用户认证和管理：实现基础的用户注册、登录和个人信息管理功能，保障用户身份的安全和唯一性。
- 实时通信功能：包括文本聊天以及发送图片、简单文件的基本功能，满足用户的基础沟通需求。
- 安全性和隐私保护：实现基本的数据加密和用户身份验证，确保通信安全。
- 消息存储和历史记录：存储和展示用户的聊天记录，提供基本的查看和搜索功能。


### Should-Haves
- 界面设计和用户体验：直观友好的用户界面设计，包括清晰的聊天窗口和联系人列表。
- 跨平台兼容性：支持主要操作系统（Windows、macOS）的基本版本，确保软件可以在多个平台上使用。
- 网络和性能优化：确保在稳定的局域网环境下能够提供流畅的通信体验。



### Could-Haves
- 语音通话和视频通话功能：在基础聊天功能的基础上，提供简单的语音或视频通话选项。
- 消息通知和提醒：为用户提供新消息的通知和提醒功能，增强用户体验。
- 文件传输功能的扩展：提供更完善的文件传输进度提示和支持更多种类的文件传输。



### Nice-to-Haves
- 更广泛的跨平台支持：扩展到iOS和Android等移动平台，提升软件的可访问性和便利性。
- 高级消息管理：提供更高级的聊天记录管理功能，如标签分类、高级搜索等。
- 网络稳定性增强：进一步优化软件以适应不稳定网络环境的表现，提高用户满意度。



## Technologies

为了优化EchoLink的开发过程并确保其性能和可用性，我们团队决定对传统MERN栈开发的技术栈进行一些细小的变更，以便更好地满足即时通信和多媒体数据传输的需求，同时考虑到未来的扩展性和跨平台兼容性。下面列举了EchoLink开发必要的技术栈以及在未来我们考虑的潜在的优化可能。

#### 核心技术栈
- React.js：作为前端开发的核心框架，React不仅提供了丰富的生态系统，而且与WebRTC等实时通信技术的兼容性极佳，有助于我们快速实现高质量的用户界面和交互设计。
- Node.js：凭借其非阻塞I/O模型和对WebRTC及WebSocket的良好支持，Node.js将作为我们的信令服务器的开发平台，确保实时通信的高效和稳定。
- Coturn （参考链接：https://github.com/coturn/coturn）：选择Coturn作为STUN和TURN服务器，是基于其作为网络服务开源项目中最为流行的解决方案之一，能够提供可靠的NAT穿透服务，对于提高P2P视频会议应用的稳定性和可接入性至关重要。


#### 高级技术规划

为了进一步提升用户体验和系统性能，我们计划在项目的后期阶段，根据时间和资源情况，引入以下高级技术：

- GoLang：考虑到GoLang在并发处理和网络服务方面的出色表现，特别是其原生的并发模型goroutine，我们计划使用GoLang重构信令服务器以及STUN和TURN服务器，以期达到更高的性能和效率。
- React Native （参考链接：https://reactnative.dev/）：通过使用React Native，我们将能够将前端网页扩展为跨平台应用，使得用户能够在移动设备上享受无缝的EchoLink体验。
- WebAssembly (WASM) （参考链接：https://developer.mozilla.org/en-US/docs/WebAssembly）：考虑使用WASM来实现视频处理中的特效加入，其能够在客户端高效执行复杂的计算任务，如图像处理，进一步丰富用户的互动体验。

## Project management

为确保项目高效进行并确保交付质量，我们将采取敏捷开发策略，以提高团队合作、适应性和快速反馈的能力。以下是我们项目管理策略的具体细节：

### Scrum框架

- 冲刺规划：本项目将划分为数个为期两周的冲刺。每个冲刺开始前，我们会召开规划会议，明确这两周的目标和任务清单。每一个人都需要将未来两周的计划详细地记录并标记对应标签，以便在冲刺结束之后进行检查。
- 冲刺复盘与回顾：在每个冲刺结束时，我们会召开复盘会议，展示并评估该阶段完成的工作。随后进行回顾会议，探讨如何提高下一轮冲刺的效率。每一次冲刺的Team Leader都会由组员轮流担任，避免长时间由一个人担任Leader带来的额外压力。

### 团队沟通和协调

- 沟通工具：为确保团队成员间的有效沟通，我们将主要使用微信进行日常消息交流和文件分享。我们计划在每周一和周五进行全组会议，以便对本周工作进行规划和及时复盘，我们创建了一个Weekly的Zoom Meeting房间来应对在线情况，一般情况下我们会进行面对面的会议。
- 项目管理：我们选择GitHub KANBAN作为项目管理平台，通过Issues跟踪开发任务和bug，利用自定义标签系统进行任务分类，设置里程碑来规划关键阶段，并使用项目看板来组织工作流。

### 版本控制策略

- Git和GitHub：我们采用Git进行代码版本控制，并将GitHub作为代码仓库托管平台。
- 分支策略：我们将采用功能分支策略，每个新功能或修复在独立分支上开发，并通过PR合并回主分支，确保主分支稳定性，并促进代码审查。并且每一次Merge之前都会指定一个非本分支开发的组员进行代码审核，保证代码的稳定性。


EchoLink开发计划分为若干个冲刺，具体数量根据项目进度和团队能力灵活调整。通过上述管理策略，我们的团队能够在保证开发质量的同时，高效协作并快速响应项目需求变化。

## Risks in team projects

在团队项目中，面临的风险往往是多方面的。有效识别和规避这些风险对于确保项目的成功至关重要。以下是我们团队经过详细的讨论交流后，预想我们的项目中可能会遇到的风险以及相对应的应对策略：

### 技术风险

技术风险涉及到的是项目中使用的技术可能不满足预期，或者实现起来比预计的更困难（因为我们目前只是构建出了软件的基本需求）。对于我们的Echolink产品而言，可能的技术风险包括但不限于WebRTC技术的兼容性问题、性能问题或者安全漏洞（即便这是一个本地局域网开发项目，依旧存在完全风险）。

为此，我们做出了如下预案：

- 在项目早期，对关键技术进行原型设计和测试，以评估其适用性和性能。对于在上面列举的非重要功能，经过小组集体讨论评估后我们会酌情进行修改。
- 定期进行代码和架构的安全性审查，确保及时发现并修复安全漏洞。（这是必要的，因为并不是所有人都完全擅长开发，需要为debug预留充足的时间）



### 项目管理风险

项目管理风险涉及到项目的范围、时间和成本可能因安排不合理而受到影响。当然也包括了团队成员的突发事件、技能不匹配或工作分配不均等，这些都可能导致项目进度延误或停滞。


为此，我们做出了如下预案：

- 明确整个项目的范围，避免项目无限扩大而无法完成。对于列举的未来潜在的项目优化环节会在整个项目落地实现之后再进行考虑。
- 定期进行项目复盘和回顾，根据项目进展和人员反馈及时调整计划。我们计划在每周一和周五进行两次会议，分别对本周进行任务规划和任务复盘，每场会议都会由成员轮流整理会议摘要（借助AI工具）以便后续进行追踪。
- 明确定义每个团队成员的角色和责任，确保任务的合理分配。（还没有明确的技术分工，PM, UI/UX, Front-End, Back-End, Testor都会由擅长相关任务的人担任）
- 为每个人和任务制定备份计划，以防突发的人员变动和意外。

